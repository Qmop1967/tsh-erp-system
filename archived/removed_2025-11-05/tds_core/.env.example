# ============================================================================
# TDS Core - Environment Configuration Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control
# ============================================================================

# ============================================================================
# APPLICATION
# ============================================================================
APP_NAME=TDS_Core
APP_VERSION=1.0.0
ENVIRONMENT=production  # development, staging, production
DEBUG=false
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# API Server
API_HOST=0.0.0.0
API_PORT=8001
API_WORKERS=4
API_RELOAD=false  # Set to true in development

# ============================================================================
# DATABASE
# ============================================================================
# PostgreSQL Connection
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=tsh_erp
DATABASE_USER=postgres
DATABASE_PASSWORD=your_postgres_password_here

# Connection Pool
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30

# Full connection URL (alternative to individual params)
# DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/tsh_erp

# ============================================================================
# SECURITY
# ============================================================================
# Secret key for JWT tokens (generate with: openssl rand -hex 32)
SECRET_KEY=your_secret_key_here_generate_with_openssl_rand_hex_32

# JWT Settings
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# API Keys (for webhook authentication)
WEBHOOK_API_KEY=your_webhook_api_key_here
ZOHO_WEBHOOK_SECRET=your_zoho_webhook_secret_here

# CORS Settings
CORS_ORIGINS=["http://localhost:3000","https://erp.tsh.sale","https://tsh.sale"]
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# ZOHO INTEGRATION
# ============================================================================
ZOHO_CLIENT_ID=your_zoho_client_id
ZOHO_CLIENT_SECRET=your_zoho_client_secret
ZOHO_REFRESH_TOKEN=your_zoho_refresh_token
ZOHO_ACCESS_TOKEN=your_zoho_access_token
ZOHO_ORGANIZATION_ID=your_zoho_organization_id
ZOHO_REGION=US  # US, EU, IN

# Zoho API Base URL (auto-configured based on region)
# ZOHO_API_BASE=https://www.zohoapis.com

# ============================================================================
# TDS CORE CONFIGURATION
# ============================================================================
# Sync Settings
TDS_MAX_RETRY_ATTEMPTS=3
TDS_RETRY_BACKOFF_BASE_MS=1000
TDS_RETRY_BACKOFF_MAX_MS=60000
TDS_BATCH_SIZE=100
TDS_LOCK_TIMEOUT_SECONDS=300
TDS_QUEUE_POLL_INTERVAL_MS=1000

# Alert Settings
TDS_ALERT_FAILURE_RATE_THRESHOLD=0.05
TDS_ALERT_QUEUE_BACKLOG_THRESHOLD=1000
TDS_ALERT_SYNC_LAG_THRESHOLD_MINUTES=15

# Cleanup Settings
TDS_INBOX_RETENTION_DAYS=7
TDS_LOGS_RETENTION_DAYS=90
TDS_METRICS_RETENTION_DAYS=30

# ============================================================================
# NOTIFICATIONS
# ============================================================================
# Email (SMTP)
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_app_password
SMTP_FROM=noreply@tsh.sale
SMTP_TLS=true

# Slack
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Telegram
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# ============================================================================
# REDIS (Optional - for Celery/Caching)
# ============================================================================
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
# REDIS_URL=redis://localhost:6379/0

# ============================================================================
# MONITORING
# ============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Sentry (Error Tracking)
SENTRY_ENABLED=false
SENTRY_DSN=your_sentry_dsn_here

# ============================================================================
# LOGGING
# ============================================================================
LOG_FORMAT=json  # json, text
LOG_FILE=/var/log/tds_core/api.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# DEVELOPMENT
# ============================================================================
# Auto-reload on code changes (development only)
DEV_RELOAD=false

# API Documentation
DOCS_ENABLED=true
DOCS_URL=/docs
REDOC_URL=/redoc

# ============================================================================
# TESTING
# ============================================================================
TEST_DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/tsh_erp_test
