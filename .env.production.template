# ============================================================================
# TSH ERP Ecosystem - Production Environment Configuration
# ============================================================================
# Purpose: Live production system serving 500+ clients
# URL: erp.tsh.sale, consumer.tsh.sale, tds.tsh.sale
# ⚠️ CRITICAL: All credentials must be production-grade secure
# ============================================================================

# ============================================================================
# Application Settings
# ============================================================================
ENVIRONMENT=production
VERSION=latest
APP_NAME=TSH ERP
APP_BASE_URL=https://erp.tsh.sale

# ============================================================================
# Database Configuration
# ============================================================================
POSTGRES_DB=tsh_erp_production
POSTGRES_USER=tsh_app_user
POSTGRES_PASSWORD=<CHANGE_ME_STRONG_PRODUCTION_PASSWORD>
POSTGRES_PORT=5432
POSTGRES_MAX_CONNECTIONS=200
DATABASE_URL=postgresql://tsh_app_user:<PASSWORD>@tsh_postgres:5432/tsh_erp_production

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://tsh_redis:6379/0
REDIS_PORT=6379

# ============================================================================
# Security & Authentication
# ============================================================================
JWT_SECRET_KEY=<CHANGE_ME_CRYPTOGRAPHICALLY_SECURE_256_BIT_KEY>
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=720
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# Admin credentials (for initial setup - change immediately)
ADMIN_EMAIL=admin@tsh.sale
ADMIN_PASSWORD=<CHANGE_ME_IMMEDIATELY_AFTER_FIRST_LOGIN>
ADMIN_FULL_NAME=System Administrator

# ============================================================================
# Uvicorn/FastAPI Settings
# ============================================================================
UVICORN_WORKERS=4
UVICORN_HOST=0.0.0.0
UVICORN_PORT=8000
UVICORN_LOG_LEVEL=info

# ============================================================================
# NeuroLink Configuration
# ============================================================================
# Database
NEUROLINK_DATABASE_URL=postgresql+asyncpg://tsh_app_user:<PASSWORD>@tsh_postgres:5432/tsh_erp_production
NEUROLINK_DB_POOL_SIZE=20
NEUROLINK_DB_MAX_OVERFLOW=10

# Redis
NEUROLINK_REDIS_URL=redis://tsh_redis:6379/2

# Email (Resend)
RESEND_API_KEY=<CHANGE_ME_PRODUCTION_RESEND_KEY>
EMAIL_FROM_ADDRESS=notifications@tsh.sale
EMAIL_FROM_NAME=TSH ERP

# Workers
NEUROLINK_WORKERS=4
NEUROLINK_LOG_LEVEL=INFO
NEUROLINK_PORT=8002
EVENT_BATCH_SIZE=100

# ============================================================================
# TDS Dashboard Configuration
# ============================================================================
NEXT_PUBLIC_API_URL=http://app_blue:8000
NEXT_PUBLIC_SOCKET_URL=ws://app_blue:8000
TDS_DASHBOARD_PORT=3000

# ============================================================================
# Zoho Integration (via TDS Core)
# ============================================================================
ZOHO_CLIENT_ID=<CHANGE_ME_PRODUCTION_ZOHO_CLIENT_ID>
ZOHO_CLIENT_SECRET=<CHANGE_ME_PRODUCTION_ZOHO_CLIENT_SECRET>
ZOHO_REDIRECT_URI=https://tds.tsh.sale/oauth/callback
ZOHO_ORGANIZATION_ID=748369814
ZOHO_BOOKS_API_URL=https://www.zohoapis.com/books/v3
ZOHO_INVENTORY_API_URL=https://www.zohoapis.com/inventory/v1
ZOHO_REFRESH_TOKEN=<CHANGE_ME_PRODUCTION_ZOHO_REFRESH_TOKEN>

# ============================================================================
# AWS S3 Configuration (Backups)
# ============================================================================
AWS_ACCESS_KEY_ID=<CHANGE_ME_PRODUCTION_AWS_KEY>
AWS_SECRET_ACCESS_KEY=<CHANGE_ME_PRODUCTION_AWS_SECRET>
AWS_REGION=eu-north-1
AWS_S3_BUCKET=tsh-erp-backups

# ============================================================================
# File Upload Settings
# ============================================================================
UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE=10485760
ALLOWED_EXTENSIONS=jpg,jpeg,png,pdf,xlsx,csv

# ============================================================================
# CORS Settings
# ============================================================================
CORS_ORIGINS=https://erp.tsh.sale,https://consumer.tsh.sale,https://shop.tsh.sale,https://tds.tsh.sale
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_DIR=/var/log/tsh_erp

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_REGISTRATION=false
ENABLE_EMAIL_VERIFICATION=true
ENABLE_TWO_FACTOR_AUTH=true
ENABLE_API_DOCUMENTATION=true

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=3600

# ============================================================================
# Monitoring & Alerts
# ============================================================================
SENTRY_DSN=<CHANGE_ME_PRODUCTION_SENTRY_DSN>
ENABLE_PERFORMANCE_MONITORING=true

# ============================================================================
# Third-Party Integrations
# ============================================================================
# WhatsApp Business
WHATSAPP_API_URL=https://graph.facebook.com/v17.0
WHATSAPP_PHONE_NUMBER_ID=<CHANGE_ME_WHATSAPP_NUMBER_ID>
WHATSAPP_ACCESS_TOKEN=<CHANGE_ME_WHATSAPP_ACCESS_TOKEN>

# ============================================================================
# Notification Channels
# ============================================================================
TELEGRAM_BOT_TOKEN=<CHANGE_ME_PRODUCTION_TELEGRAM_TOKEN>
TELEGRAM_CHAT_ID=<CHANGE_ME_PRODUCTION_TELEGRAM_CHAT>

# ============================================================================
# Blue-Green Deployment
# ============================================================================
ACTIVE_DEPLOYMENT_SLOT=blue
DEPLOYMENT_SLOT=blue

# ============================================================================
# Docker Compose Settings
# ============================================================================
COMPOSE_PROJECT_NAME=tsh_erp_production
COMPOSE_FILE=docker-compose.production.yml
